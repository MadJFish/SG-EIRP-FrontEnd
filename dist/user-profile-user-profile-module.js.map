{"version":3,"sources":["./src/app/user-profile/user-profile.component.html","./src/app/user-profile/user-profile-routing.module.ts","./src/app/user-profile/user-profile.component.css","./src/app/user-profile/user-profile.component.ts","./src/app/user-profile/user-profile.module.ts"],"names":[],"mappings":"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","file":"user-profile-user-profile-module.js","sourcesContent":["export default \"<div class=\\\"main-content\\\">\\n  <div class=\\\"container-fluid\\\">\\n    <div class=\\\"row content\\\">\\n      <div class=\\\"col-md-4\\\">\\n        <div class=\\\"card card-profile\\\">\\n          <div class=\\\"card-avatar\\\">\\n            <a (click) = \\\"fileInput.click()\\\">\\n              <img class=\\\"img\\\" [src]=\\\"imagePath\\\" />\\n              <input style=\\\"display: none\\\" type=\\\"file\\\" id=\\\"customFile\\\" (change)=\\\"selectFile($event)\\\" #fileInput>\\n            </a>\\n          </div>\\n\\n          <!--\\n            <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!selectedFiles || admincheck || status\\\" (click)=\\\"upload()\\\">Save File</button>\\n            <button class=\\\"btn btn-primary\\\" style=\\\"margin-left: 10px\\\" (click)=\\\"downloadFile()\\\">View File</button>\\n          -->     \\n\\n          <div class=\\\"card-body\\\">\\n            <h6 class=\\\"card-category text-gray\\\">{{user.role.roleDesc}}</h6>\\n              <h4 class=\\\"card-title\\\">{{user.username}}</h4>\\n              <p class=\\\"card-description\\\">\\n                {{user.email}}\\n              </p>\\n              <!--\\n                <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-danger btn-round\\\">Follow</a>\\n              -->\\n              <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-danger btn-round\\\">Edit Profile</a>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-md-8\\\" style=\\\"float:right\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"card\\\">\\n              <div class=\\\"card-header card-header-success\\\">\\n                <h4 class=\\\"card-title\\\">My Profile</h4>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Username: {{user.username}}\\n                    </span>\\n                  </div>\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Email: {{user.email}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      First Name: {{user.firstName}}\\n                    </span>\\n                  </div>\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Last Name: {{user.lastName}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Registration Date: {{user.registrationDatetime}}\\n                    </span>\\n                  </div>\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Last Login Date: {{user.lastLoginDatetime}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Birth Date: {{user.birthDate}}\\n                    </span>\\n                  </div>\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Gender: {{user.gender}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Address: {{user.address}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"clearfix\\\"></div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"card\\\">\\n              <div class=\\\"card-header card-header-info\\\">\\n                <h4 class=\\\"card-title\\\">Agency: {{tutorAgency.name}}</h4>\\n              </div>\\n              <div class=\\\"card-body\\\">\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      {{tutorAgency.promoText}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      About Us: {{tutorAgency.aboutUs}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Email: {{tutorAgency.email}}\\n                    </span>\\n                  </div>\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      TEL: {{tutorAgency.phone}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Education Levels: {{tutorAgency.targetEduLevels}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Subjects: {{tutorAgency.subjects}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"col-md-5\\\">\\n                    <span class=\\\"text-success\\\">\\n                      Locations: {{tutorAgency.locations}}\\n                    </span>\\n                  </div>\\n                </div>\\n                <div class=\\\"clearfix\\\"></div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n  </div>\\n</div>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserProfileComponent } from './user-profile.component';\n\nconst routes: Routes = [\n  { path: '', component: UserProfileComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserProfileRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXItcHJvZmlsZS91c2VyLXByb2ZpbGUuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { UserService, AuthenticationService, TutorAgencyService } from 'app/_services';\nimport { Router } from '@angular/router';\n\nimport { UserResponseDto, TutorAgencyDto } from 'app/_models';\n\nimport { DocumentDto } from 'app/_models';\nimport { fileUploadService } from 'app/_services';\nimport { GloblConstants } from 'app/common/global-constants';\n\n@Component({\n  selector: 'app-user-profile',\n  templateUrl: './user-profile.component.html',\n  styleUrls: ['./user-profile.component.css']\n})\nexport class UserProfileComponent implements OnInit {\n\n  private user: UserResponseDto = new UserResponseDto();\n  private tutorAgency: TutorAgencyDto = new TutorAgencyDto();\n  private imagePath: string = \"./assets/img/faces/marc.jpg\";\n\n  // native file upload\n  selectedFiles: FileList;\n  currentFileUpload: File;\n  progress: { percentage: number } = { percentage: 0 };\n  selectedFile = null;\n  changeImage = false;\n\n  constructor(\n      private userService: UserService,\n      private router: Router,\n      private fileUploadService: fileUploadService,\n      private tutorAgencyService: TutorAgencyService\n  ) {}\n\n  ngOnInit() {\n      // get current user profile\n      this.userService.getUser()\n          .subscribe((user: UserResponseDto) => {\n              this.user = user;\n              console.log(JSON.stringify(user));\n\n              this.retrieveAgency(this.user);\n          });\n  }\n\n  // retrieve user agency details\n  retrieveAgency(user: UserResponseDto) {\n      if (user == null) {\n          console.log(\"user is null\");\n          return;\n      }\n\n      const status: string = user.status;\n      if (status !== GloblConstants.approvedStatus) {\n          console.log(\"status is not APPROVED\");\n          return;\n      }\n\n      const agencyId: string = user.tutorAgentId;\n      if (agencyId == null) {\n          console.log(\"agency id is null.\");\n          return;\n      }\n\n      // retrieve tutor agency\n      this.tutorAgencyService.getAgencyByAgencyId(agencyId)\n          .subscribe((tutorAgencyDto: TutorAgencyDto) => {\n              this.tutorAgency = tutorAgencyDto;\n              console.log(\"test 1: \" + JSON.stringify(this.tutorAgency));\n          });\n  }\n\n  // native file upload\n  downloadFile(){\n      const link = document.createElement('a');\n      link.setAttribute('target', '_blank');\n      link.setAttribute('href', '_File_Saved_Path');\n      link.setAttribute('download', 'file_name.pdf');\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n  }\n\n  change($event) {\n      this.changeImage = true;\n  }\n\n  changedImage(event) {\n      this.selectedFile = event.target.files[0];\n  }\n\n  upload() {\n      this.progress.percentage = 0;\n      this.currentFileUpload = this.selectedFiles.item(0);\n\n      // set DocumentDto\n      const documentDto: DocumentDto = new DocumentDto();\n      documentDto.documentType = GloblConstants.profileImage;\n      documentDto.uploadType = GloblConstants.userUploadType;\n      documentDto.referenceId = this.user.id;\n\n      this.fileUploadService.pushFileToStorage(this.currentFileUpload, documentDto)\n          .subscribe(response => {\n              console.log(response);\n              if (response.status) {\n                  this.imagePath = GloblConstants.s3URL + GloblConstants.directory_separator + response.body.documentUrl;\n              };\n              this.selectedFiles = undefined;\n          });\n  }\n\n  selectFile(event) {\n      this.selectedFiles = event.target.files;\n      this.upload();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FileUploadModule } from 'ng2-file-upload';\n\nimport { UserProfileRoutingModule } from './user-profile-routing.module';\nimport { UserProfileComponent } from './user-profile.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UserProfileRoutingModule,\n    FileUploadModule\n  ],\n  declarations: [UserProfileComponent]\n})\nexport class UserProfileModule { }\n"],"sourceRoot":"webpack:///"}